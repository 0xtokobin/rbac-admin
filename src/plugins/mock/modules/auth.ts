import type { ResponseData } from '@/utils/request/index.d';
import type { IObject } from '@/global.d';
import { interceptJointData } from '@/utils/common';
import { AuthenticationEnum, IconTypeEnum } from '@/enums';

export default {
  /**
   * @name validateUsername
   * @description 校验用户名称是否存在
   */
  validateUsername: {
    url: '/user/validate',
    method: 'get',
    data: { validateResult: true },
    response: <T>(params: IObject, res: ResponseData<T>) => {
      if (
        interceptJointData(params.url).username !==
        AuthenticationEnum.VISITOR_USERNAME
      ) {
        return {
          ...res,
          code: 10034,
          msg: null,
          data: { validateResult: false },
        };
      }
      return res;
    },
  },

  /**
   * @name getRoleRoutes
   * @description 获取权限路由
   */
  getRoleRoutes: {
    url: '/user/route/list',
    method: 'get',
    data: [
      {
        path: '/home',
        name: 'home',
        meta: {
          layout: 'admin',
          isAdmin: true,
          requiresAuth: true,
          iconType: IconTypeEnum.ELEMENT_PLUS,
          icon: 'House',
          sort: 0,
          isI18n: true,
          i18nKey: 'home',
        },
        children: [
          {
            path: '/home/workbench',
            name: 'home.workbench',
            component: '/home/workbench',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Monitor',
              sort: 0,
              isI18n: true,
              i18nKey: 'home.workbench',
            },
          },
          {
            path: '/home/dashboard',
            name: 'home.dashboard',
            component: '/home/dashboard',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Odometer',
              sort: 1,
              isI18n: true,
              i18nKey: 'home.dashboard',
            },
          },
        ],
      },
      {
        path: '/personal',
        name: 'personal',
        meta: {
          layout: 'admin',
          isAdmin: true,
          requiresAuth: true,
          iconType: IconTypeEnum.ELEMENT_PLUS,
          icon: 'User',
          sort: 1,
          isI18n: true,
          i18nKey: 'personal',
        },
        children: [
          {
            path: '/personal/profile',
            name: 'personal.profile',
            component: '/personal/profile',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Postcard',
              sort: 0,
              isI18n: true,
              i18nKey: 'personal.profile',
            },
          },
          {
            path: '/personal/notifications',
            name: 'personal.notifications',
            component: '/personal/notifications',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'ChatDotSquare',
              sort: 1,
              isI18n: true,
              i18nKey: 'personal.notifications',
            },
          },
        ],
      },
      {
        path: '/example',
        name: 'example',
        meta: {
          layout: 'admin',
          isAdmin: true,
          requiresAuth: true,
          iconType: IconTypeEnum.ELEMENT_PLUS,
          icon: 'Guide',
          sort: 2,
          isI18n: true,
          i18nKey: 'example',
        },
        children: [
          {
            path: '/example/table',
            name: 'example.table',
            component: '/example/table',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'DocumentCopy',
              sort: 0,
              isI18n: true,
              i18nKey: 'example.table',
            },
          },
          {
            path: '/example/icon',
            name: 'example.icon',
            component: '/example/icon',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'MagicStick',
              sort: 1,
              isI18n: true,
              i18nKey: 'example.icon',
            },
          },
          {
            path: '/example/editor',
            name: 'example.editor',
            component: '/example/editor',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Document',
              sort: 2,
              isI18n: true,
              i18nKey: 'example.editor',
            },
          },
          {
            path: '/example/charts',
            name: 'example.charts',
            component: '/example/charts',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'DataLine',
              sort: 3,
              isI18n: true,
              i18nKey: 'example.charts',
            },
          },
          {
            path: '/example/map',
            name: 'example.map',
            component: '/example/map',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'MapLocation',
              sort: 4,
              isI18n: true,
              i18nKey: 'example.map',
            },
          },
          {
            path: '/example/form',
            name: 'example.form',
            component: '/example/form',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'DocumentChecked',
              sort: 5,
              isI18n: true,
              i18nKey: 'example.form',
            },
          },
          {
            path: '/example/form-step',
            name: 'example.formStep',
            component: '/example/form-step',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'DocumentChecked',
              sort: 6,
              isI18n: true,
              i18nKey: 'example.formStep',
            },
          },
          {
            path: '/example/result',
            name: 'example.result',
            component: '/example/result',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Warning',
              sort: 7,
              isI18n: true,
              i18nKey: 'example.result',
            },
          },
        ],
      },
      {
        path: '/authority',
        name: 'authority',
        meta: {
          layout: 'admin',
          isAdmin: true,
          requiresAuth: true,
          iconType: IconTypeEnum.APP,
          icon: 'base-role',
          sort: 3,
          isI18n: true,
          i18nKey: 'authority',
        },
        children: [
          {
            path: '/authority/role',
            name: 'authority.role',
            component: '/authority/role',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'CollectionTag',
              sort: 0,
              isI18n: true,
              i18nKey: 'authority.role',
            },
          },
          {
            path: '/authority/user',
            name: 'authority.user',
            component: '/authority/user',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'User',
              sort: 1,
              isI18n: true,
              i18nKey: 'authority.user',
            },
          },
          {
            path: '/authority/department',
            name: 'authority.department',
            component: '/authority/department',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.APP,
              icon: 'base-tree',
              sort: 2,
              isI18n: true,
              i18nKey: 'authority.department',
            },
          },
          {
            path: '/authority/post',
            name: 'authority.post',
            component: '/authority/post',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Postcard',
              sort: 3,
              isI18n: true,
              i18nKey: 'authority.post',
            },
          },
        ],
      },
      {
        path: '/system',
        name: 'system',
        meta: {
          layout: 'admin',
          isAdmin: true,
          requiresAuth: true,
          iconType: IconTypeEnum.ELEMENT_PLUS,
          icon: 'Operation',
          sort: 4,
          isI18n: true,
          i18nKey: 'system',
        },
        children: [
          {
            path: '/system/menus',
            name: 'system.menus',
            component: '/system/menus',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Menu',
              sort: 0,
              isI18n: true,
              i18nKey: 'system.menus',
            },
          },
          {
            path: '/system/dicts',
            name: 'system.dicts',
            component: '/system/dicts',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Reading',
              sort: 1,
              isI18n: true,
              i18nKey: 'system.dicts',
            },
          },
          {
            path: '/system/params',
            name: 'system.params',
            component: '/system/params',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Key',
              sort: 2,
              isI18n: true,
              i18nKey: 'system.params',
            },
          },
          {
            path: '/system/files',
            name: 'system.files',
            component: '/system/files',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'FolderOpened',
              sort: 3,
              isI18n: true,
              i18nKey: 'system.files',
            },
          },
          {
            path: '/system/settings',
            name: 'system.settings',
            component: '/system/settings',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Setting',
              sort: 4,
              isI18n: true,
              i18nKey: 'system.settings',
            },
          },
          {
            path: '/system/logs',
            name: 'system.logs',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Notebook',
              sort: 5,
              isI18n: true,
              i18nKey: 'system.logs',
            },
            children: [
              {
                path: '/system/logs/logi',
                name: 'system.logs.login',
                component: '/system/logs/login',
                meta: {
                  layout: 'admin',
                  requiresAuth: true,
                  sort: 0,
                  isI18n: true,
                  i18nKey: 'system.logs.login',
                },
              },
              {
                path: '/system/logs/action',
                name: 'system.logs.action',
                component: '/system/logs/action',
                meta: {
                  layout: 'admin',
                  requiresAuth: true,
                  sort: 1,
                  isI18n: true,
                  i18nKey: 'system.logs.action',
                },
              },
            ],
          },
        ],
      },
      {
        path: '/development',
        name: 'development',
        meta: {
          layout: 'admin',
          isAdmin: true,
          requiresAuth: true,
          iconType: IconTypeEnum.ELEMENT_PLUS,
          icon: 'Coin',
          sort: 5,
          isI18n: true,
          i18nKey: 'development',
        },
        children: [
          {
            path: '/development/options',
            name: 'development.options',
            component: '/development/options',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Operation',
              sort: 0,
              isI18n: true,
              i18nKey: 'development.options',
            },
          },
          {
            path: '/development/code',
            name: 'development.code',
            component: '/development/code',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'ElementPlus',
              sort: 1,
              isI18n: true,
              i18nKey: 'development.code',
            },
          },
          {
            path: '/development/form',
            name: 'development.form',
            component: '/development/form',
            meta: {
              layout: 'admin',
              requiresAuth: true,
              iconType: IconTypeEnum.ELEMENT_PLUS,
              icon: 'Coordinate',
              sort: 2,
              isI18n: true,
              i18nKey: 'development.form',
            },
          },
        ],
      },
    ],
  },

  /**
   * @name getUserRoles
   * @description 获取用户权限
   */
  getUserRoles: {
    url: '/user/role/list',
    method: 'get',
    data: [
      '/home/workbench',
      '/home/dashboard',
      '/personal/profile',
      '/personal/notifications',
      '/example/table',
      '/example/icon',
      '/example/editor',
      '/example/charts',
      '/example/map',
      '/example/form',
      '/example/form-step',
      '/example/result',
      '/authority/role',
      '/authority/user',
      '/authority/department',
      '/authority/post',
      '/system/menus',
      '/system/dicts',
      '/system/params',
      '/system/files',
      '/system/settings',
      '/system/logs/login-log',
      '/system/logs/action-log',
      '/development/options',
      '/development/code',
      '/development/form',
      '/about',
    ],
  },
};
